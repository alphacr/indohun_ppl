{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'blog/assets/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link href="{% static 'blog/assets/vendor/fonts/circular-std/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'blog/assets/libs/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'blog/assets/libs/css/custom_style.css' %}">
    <link rel="stylesheet" href="{% static 'blog/assets/vendor/fonts/fontawesome/css/fontawesome-all.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'blog/main.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'blog/assets/libs/css/custom_style.css'%}">

    <link
      rel="stylesheet"
      href="{% static 'blog/assets/vendor/datepicker/tempusdominus-bootstrap-4.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'blog/assets/vendor/inputmask/css/inputmask.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.4.1/dist/bootstrap-toc.min.css"
    />

    {% if title %}
    <title>Indohun PPL - {{ title }}</title>
    {% else %}
    <title>Indohun PPL</title>
    {% endif %}
</head>
<body>
<article class="media content-section">
    <div id= 'printableArea' class="media-body">
        <div class="article-metadata">
            <a class="mr-2" href="#">{{ report.author }}</a>
            <small class="text-muted">{{ report.date_posted|date:"F d, Y" }}</small>
        </div>
        <h2 class="article-title" style="margin-top: 10px;">Hasil Laporan: {{ report.judul_laporan }}</h2>
        <h3 class="article-title">Ringkasan Hasil Penilaian</h3>
        <div class="container-chart" >
            <div class="row">
                <div class="col-md-8 ">
                    <canvas id="myChart_radar"></canvas>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <canvas id="myChart_bar"></canvas>
                </div>
            </div>

        </div>
        <br/>
        <br/>
        <table class="table">
            <thead style="background-color: #0e0c28;">
                <tr>
                    <th style="color: #ffff;">No</th>
                    <th style="color: #ffff;">Semua Hasil Aspek PPL Terhadap Laboratorium {{ report.author }}</th>
                    <th style="color: #ffff;">Penilaian {{ report.judul_laporan }}</th>
                </tr>
            </thead>
            <tr style="background-color: rgba(54, 162, 235, 0.4);">
                <td>1</td>
                <td>Kebijakan Sistem Manajemen Biorisiko</td>
                <td class="color-grade" id="hasil_akhir_aspek_1"></td>
            </tr>
            <tr style="background-color: rgba(255, 206, 86, 0.4);">
                <td>2</td>
                <td>Perencanaan Kerja Dengan Bahan Biologik</td>
                <td class="color-grade" id="hasil_akhir_aspek_2"></td>
            </tr>
            <tr style="background-color: rgba(75, 192, 192, 0.4);">
                <td>3</td>
                <td>Pengendalian Operasional</td>
                <td class="color-grade" id="hasil_akhir_aspek_3"></td>
            </tr>
            <tr style="background-color: rgba(255, 99, 132, 0.4);">
                <td>4</td>
                <td>Pelaksanaan dan Operasi</td>
                <td class="color-grade" id="hasil_akhir_aspek_4"></td>
            </tr>
            <tr style="background-color: rgba(153, 102, 255, 0.4);">
                <td>5</td>
                <td>Checking dan Perbaikan</td>
                <td class="color-grade" id="hasil_akhir_aspek_5"></td>
            </tr>
        </table>

       
        <br/>
        <br/>

        <h3>Detail Hasil Penilaian</h3>
        <div class="row">
                <div class="col-md-8 ">
                    <canvas id="myChart_radar_detail"></canvas>
                </div>
        </div>
        <div class="row">
                <div class="col-md-8">
                    <canvas id="myChart_bar_detail"></canvas>
                </div>
        </div>

        <br/>
        <br/>

        <h3>Isi Laporan</h3>
        <table class="table">
            <thead style="background-color: #0e0c28;">
                <tr>
                    <th style="color: white; ">No</th>
                    <th style="color: white; ">Semua Hasil Aspek PPL terhadap Laboratorium {{ report.author }}</th>
                    <th style="color: white; ">Penilaian Saat ini {{ report.judul_laporan }}</th>
                    <th style="color: white; ">Confidence</th>
                </tr>
            </thead>
            <tr style="background-color:rgba(54, 162, 235, 0.4); ">
                <td style="font-weight: bold; ">1.1</td>
                <td>Sistem Manajemen Biorisiko</td>
                <td class="color-grade" id="hasil_akhir_aspek_1_detail"></td>
                <td class="color-grade-confidence" id="confidence_aspek_1"></td>
            </tr>
            <tr style="background-color:rgba(255, 206, 86, 0.4); ">
                <td style="font-weight: bold;">2.1</td>
                <td>Penilaian Risiko</td>
                <td class="color-grade" id="hasil_akhir_aspek_2_1"></td>
                <td class="color-grade-confidence" id="confidence_aspek_2_1"></td>
            </tr>
            <tr style="background-color:rgba(255, 206, 86, 0.4); ">
                <td style="font-weight: bold;"> 2.2</td>
                <td>Informasi dan Inventarisasi Bahan Biologik dan Bahan Toksin</td>
                <td class="color-grade" id="hasil_akhir_aspek_2_2"></td>
                <td class="color-grade-confidence" id="confidence_aspek_2_2"></td>
            </tr>
            <tr style="background-color:rgba(75, 192, 192, 0.4); ">
                <td style="font-weight: bold;"> 3.1</td>
                <td>General Safety</td>
                <td class="color-grade" id="hasil_akhir_aspek_3_detail"></td>
                <td class="color-grade-confidence" id="confidence_aspek_3"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;" >4.1</td>
                <td>Personalia dan Kompetensi</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_1"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_1"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;"> 4.2</td>
                <td>Good Microbiological Technique</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_2"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_2"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;">4.3</td>
                <td>Alat Pelindung Diri</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_3"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_3"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;"> 4.4</td>
                <td>Latar Belakang SDM</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_4"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_4"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;" >4.5</td>
                <td>Program Kesehatan Kerja</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_5"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_5"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;"> 4.6</td>
                <td>Tanggap Darurat dan Perencanaan Kontingensi</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_6"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_6" style="background-color: black;"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;">4.7</td>
                <td>Persyaratan Fasilitas Fisik</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_7"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_7"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;">4.8</td>
                <td>Peralatan dan Pemeliharaan</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_8"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_8"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;"> 4.9</td>
                <td>Dekontaminasi, Disinfeksi, dan Sterilisasi</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_9"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_9"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;" >4.10</td>
                <td>Transportasi Bahan Biologik dan Bahan Berbahaya lainnya</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_10"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_10"></td>
            </tr>
            <tr style="background-color:rgba(255, 99, 132, 0.4); ">
                <td style="font-weight: bold;"> 4.11</td>
                <td>Biosecurity</td>
                <td class="color-grade" id="hasil_akhir_aspek_4_11"></td>
                <td class="color-grade-confidence" id="confidence_aspek_4_11"></td>
            </tr>
            <tr style="background-color:rgba(153, 102, 255, 0.4); ">
                <td style="font-weight: bold;">5.1</td>
                <td>Investigasi Kecelakaan dan Insiden</td>
                <td class="color-grade" id="hasil_akhir_aspek_5_detail"></td>
                <td class="color-grade-confidence" id="confidence_aspek_5"></td>
            </tr>
        </table>
    </div>
    <script type="text/javascript">
        setTimeout(function () { window.print(); }, 500);
        window.onfocus = function () { setTimeout(function () { history.back(); }, 500); }
    </script>

    
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script>
    function round(num) {
        num = Math.round(num + "e" + 2);
        return Number(num + "e" + -2);
    }

    var i;
    var not_applicable = 0;
    var aspek_1 = [
        {{ report.nilai_no_1 }} - 1,
        {{ report.nilai_no_2 }} - 1,
        {{ report.nilai_no_3 }} - 1,
        {{ report.nilai_no_4 }} - 1,
        {{ report.nilai_no_5 }} - 1,
        {{ report.nilai_no_6 }} - 1,
        {{ report.nilai_no_7 }} - 1,
        {{ report.nilai_no_8 }} - 1,
        {{ report.nilai_no_9 }} - 1,
        {{ report.nilai_no_10 }} - 1,
        {{ report.nilai_no_11 }} - 1,
        {{ report.nilai_no_12 }} - 1,
        {{ report.nilai_no_13 }} - 1,
    ];
    var panjang_aspek_1 = [];
    for (i=0; i<aspek_1.length; i++){
        if (aspek_1[i] == -1){
            not_applicable += aspek_1[i];
        } else {
            panjang_aspek_1.push(aspek_1[i]);
        }
    }
    var hasil_akhir_aspek_1 = round(((panjang_aspek_1.reduce((a,b) => a + b, 0))/(panjang_aspek_1.length*3))*100);
    var confidence_aspek_1 = round((panjang_aspek_1.length/aspek_1.length)*100);

    panjang_aspek_1 = [];
    aspek_1 = [];

    var aspek_2_1 = [
        {{ report.nilai_no_14 }} - 1,
        {{ report.nilai_no_15 }} - 1,
        {{ report.nilai_no_16 }} - 1,
        {{ report.nilai_no_17 }} - 1,
        {{ report.nilai_no_18 }} - 1,
    ];
    var aspek_2_2 = [
        {{ report.nilai_no_19 }} - 1,
        {{ report.nilai_no_20 }} - 1,
        {{ report.nilai_no_21 }} - 1,
        {{ report.nilai_no_22 }} - 1,
    ];
    var panjang_aspek_2_1 = [];
    var panjang_aspek_2_2 = [];
    for (i=0; i<aspek_2_1.length; i++){
        if (aspek_2_1[i] == -1){
            not_applicable += aspek_2_1[i];
        } else {
            panjang_aspek_2_1.push(aspek_2_1[i]);
        }
    }

    for (i=0; i<aspek_2_2.length; i++){
        if (aspek_2_2[i] == -1){
            not_applicable += aspek_2_2[i];
        } else {
            panjang_aspek_2_2.push(aspek_2_2[i]);
        }
    }

    var hasil_akhir_aspek_2_1 = round(((panjang_aspek_2_1.reduce((a,b) => a + b, 0))/(panjang_aspek_2_1.length*3))*100);
    var hasil_akhir_aspek_2_2 = round(((panjang_aspek_2_2.reduce((a,b) => a + b, 0))/(panjang_aspek_2_2.length*3))*100);

    var panjang_aspek_2 = panjang_aspek_2_1.concat(panjang_aspek_2_2);

    var confidence_aspek_2_1 = round((panjang_aspek_2_1.length/aspek_2_1.length)*100);
    var confidence_aspek_2_2 = round((panjang_aspek_2_2.length/aspek_2_2.length)*100);
    
    var hasil_akhir_aspek_2 = round(((panjang_aspek_2.reduce((a,b) => a + b, 0))/(panjang_aspek_2.length*3))*100);
    
    aspek_2_1 = [];
    aspek_2_2 = [];
    panjang_aspek_2_1 = [];
    panjang_aspek_2_2 = [];
    panjang_aspek_2= [];

    var aspek_3 = [
        {{ report.nilai_no_23 }} - 1,
    ];
    var panjang_aspek_3 = [];
    for (i=0; i<aspek_3.length; i++){
        if (aspek_3[i] == -1){
            not_applicable += aspek_3[i];
        } else {
            panjang_aspek_3.push(aspek_3[i]);
        }
    }

    var hasil_akhir_aspek_3 = round(((panjang_aspek_3.reduce((a,b) => a + b, 0))/(panjang_aspek_3.length*3))*100);
    var confidence_aspek_3 = round((panjang_aspek_3.length/aspek_3.length)*100);

    aspek_3 = [];
    panjang_aspek_3 = [];

    var aspek_4_1 = [
        {{ report.nilai_no_24 }} - 1,
        {{ report.nilai_no_25 }} - 1,
    ];
    var aspek_4_2 = [
        {{ report.nilai_no_26 }} - 1,
        {{ report.nilai_no_27 }} - 1,
        {{ report.nilai_no_28 }} - 1,
    ];
    var aspek_4_3 = [
        {{ report.nilai_no_29 }} - 1,
        {{ report.nilai_no_30 }} - 1,
        {{ report.nilai_no_31 }} - 1,
    ];
    var aspek_4_4 = [
        {{ report.nilai_no_32 }} - 1,
    ];
    var aspek_4_5 = [
        {{ report.nilai_no_33 }} - 1,
        {{ report.nilai_no_34 }} - 1,
        {{ report.nilai_no_35 }} - 1,
    ];
    var aspek_4_6 = [
        {{ report.nilai_no_36 }} - 1,
        {{ report.nilai_no_37 }} - 1,
        {{ report.nilai_no_38 }} - 1,
        {{ report.nilai_no_39 }} - 1,
    ];
    var aspek_4_7 = [
        {{ report.nilai_no_40 }} - 1,
        {{ report.nilai_no_41 }} - 1,
    ];
    var aspek_4_8 = [
        {{ report.nilai_no_42 }} - 1,
        {{ report.nilai_no_43 }} - 1,
        {{ report.nilai_no_44 }} - 1,
        {{ report.nilai_no_45 }} - 1,
        {{ report.nilai_no_46 }} - 1,
    ];
    var aspek_4_9 = [
        {{ report.nilai_no_47 }} - 1,
        {{ report.nilai_no_48 }} - 1,
        {{ report.nilai_no_49 }} - 1,
    ];
    var aspek_4_10 = [
        {{ report.nilai_no_50 }} - 1,
    ];
    var aspek_4_11 = [
        {{ report.nilai_no_51 }} - 1,
        {{ report.nilai_no_52 }} - 1,
        {{ report.nilai_no_53 }} - 1,
    ];

    var panjang_aspek_4_1 = [];
    var panjang_aspek_4_2 = [];
    var panjang_aspek_4_3 = [];
    var panjang_aspek_4_4 = [];
    var panjang_aspek_4_5 = [];
    var panjang_aspek_4_6 = [];
    var panjang_aspek_4_7 = [];
    var panjang_aspek_4_8 = [];
    var panjang_aspek_4_9 = [];
    var panjang_aspek_4_10 = [];
    var panjang_aspek_4_11 = [];

    for (i=0; i<aspek_4_1.length; i++){
        if (aspek_4_1[i] == -1){
            not_applicable += aspek_4_1[i];
        } else {
            panjang_aspek_4_1.push(aspek_4_1[i]);
        }
    }

    for (i=0; i<aspek_4_2.length; i++){
        if (aspek_4_2[i] == -1){
            not_applicable += aspek_4_2[i];
        } else {
            panjang_aspek_4_2.push(aspek_4_2[i]);
        }
    }

    for (i=0; i<aspek_4_3.length; i++){
        if (aspek_4_3[i] == -1){
            not_applicable += aspek_4_3[i];
        } else {
            panjang_aspek_4_3.push(aspek_4_3[i]);
        }
    }

    for (i=0; i<aspek_4_4.length; i++){
        if (aspek_4_4[i] == -1){
            not_applicable += aspek_4_4[i];
        } else {
            panjang_aspek_4_4.push(aspek_4_4[i]);
        }
    }

    for (i=0; i<aspek_4_5.length; i++){
        if (aspek_4_5[i] == -1){
            not_applicable += aspek_4_5[i];
        } else {
            panjang_aspek_4_5.push(aspek_4_5[i]);
        }
    }

    for (i=0; i<aspek_4_6.length; i++){
        if (aspek_4_6[i] == -1){
            not_applicable += aspek_4_6[i];
        } else {
            panjang_aspek_4_6.push(aspek_4_6[i]);
        }
    }

    for (i=0; i<aspek_4_7.length; i++){
        if (aspek_4_7[i] == -1){
            not_applicable += aspek_4_7[i];
        } else {
            panjang_aspek_4_7.push(aspek_4_7[i]);
        }
    }

    for (i=0; i<aspek_4_8.length; i++){
        if (aspek_4_8[i] == -1){
            not_applicable += aspek_4_8[i];
        } else {
            panjang_aspek_4_8.push(aspek_4_8[i]);
        }
    }

    for (i=0; i<aspek_4_9.length; i++){
        if (aspek_4_9[i] == -1){
            not_applicable += aspek_4_9[i];
        } else {
            panjang_aspek_4_9.push(aspek_4_9[i]);
        }
    }

    for (i=0; i<aspek_4_10.length; i++){
        if (aspek_4_10[i] == -1){
            not_applicable += aspek_4_10[i];
        } else {
            panjang_aspek_4_10.push(aspek_4_10[i]);
        }
    }

    for (i=0; i<aspek_4_11.length; i++){
        if (aspek_4_11[i] == -1){
            not_applicable += aspek_4_11[i];
        } else {
            panjang_aspek_4_11.push(aspek_4_11[i]);
        }
    }

    var hasil_akhir_aspek_4_1 = round(((panjang_aspek_4_1.reduce((a,b) => a + b, 0))/(panjang_aspek_4_1.length*3))*100);
    var hasil_akhir_aspek_4_2 = round(((panjang_aspek_4_2.reduce((a,b) => a + b, 0))/(panjang_aspek_4_2.length*3))*100);
    var hasil_akhir_aspek_4_3 = round(((panjang_aspek_4_3.reduce((a,b) => a + b, 0))/(panjang_aspek_4_3.length*3))*100);
    var hasil_akhir_aspek_4_4 = round(((panjang_aspek_4_4.reduce((a,b) => a + b, 0))/(panjang_aspek_4_4.length*3))*100);
    var hasil_akhir_aspek_4_5 = round(((panjang_aspek_4_5.reduce((a,b) => a + b, 0))/(panjang_aspek_4_5.length*3))*100);
    var hasil_akhir_aspek_4_6 = round(((panjang_aspek_4_6.reduce((a,b) => a + b, 0))/(panjang_aspek_4_6.length*3))*100);
    var hasil_akhir_aspek_4_7 = round(((panjang_aspek_4_7.reduce((a,b) => a + b, 0))/(panjang_aspek_4_7.length*3))*100);
    var hasil_akhir_aspek_4_8 = round(((panjang_aspek_4_8.reduce((a,b) => a + b, 0))/(panjang_aspek_4_8.length*3))*100);
    var hasil_akhir_aspek_4_9 = round(((panjang_aspek_4_9.reduce((a,b) => a + b, 0))/(panjang_aspek_4_9.length*3))*100);
    var hasil_akhir_aspek_4_10 = round(((panjang_aspek_4_10.reduce((a,b) => a + b, 0))/(panjang_aspek_4_10.length*3))*100);
    var hasil_akhir_aspek_4_11 = round(((panjang_aspek_4_11.reduce((a,b) => a + b, 0))/(panjang_aspek_4_11.length*3))*100);

    var panjang_aspek_4 = panjang_aspek_4_1.concat(panjang_aspek_4_2, panjang_aspek_4_3, panjang_aspek_4_4, panjang_aspek_4_5, panjang_aspek_4_6, panjang_aspek_4_7, panjang_aspek_4_8, panjang_aspek_4_9, panjang_aspek_4_10, panjang_aspek_4_11 );
    
    var hasil_akhir_aspek_4 = round(((panjang_aspek_4.reduce((a,b) => a + b, 0))/(panjang_aspek_4.length*3))*100);
    var confidence_aspek_4_1 = round((panjang_aspek_4_1.length/aspek_4_1.length)*100);
    var confidence_aspek_4_2 = round((panjang_aspek_4_2.length/aspek_4_2.length)*100);
    var confidence_aspek_4_3 = round((panjang_aspek_4_3.length/aspek_4_3.length)*100);
    var confidence_aspek_4_4 = round((panjang_aspek_4_4.length/aspek_4_4.length)*100);
    var confidence_aspek_4_5 = round((panjang_aspek_4_5.length/aspek_4_5.length)*100);
    var confidence_aspek_4_6 = round((panjang_aspek_4_6.length/aspek_4_6.length)*100);
    var confidence_aspek_4_7 = round((panjang_aspek_4_7.length/aspek_4_7.length)*100);
    var confidence_aspek_4_8 = round((panjang_aspek_4_8.length/aspek_4_8.length)*100);
    var confidence_aspek_4_9 = round((panjang_aspek_4_9.length/aspek_4_9.length)*100);
    var confidence_aspek_4_10 = round((panjang_aspek_4_10.length/aspek_4_10.length)*100);
    var confidence_aspek_4_11 = round((panjang_aspek_4_11.length/aspek_4_11.length)*100);

    aspek_4_1 = [];
    aspek_4_2 = [];
    aspek_4_3 = [];
    aspek_4_4 = [];
    aspek_4_5 = [];
    aspek_4_6 = [];
    aspek_4_7 = [];
    aspek_4_8 = [];
    aspek_4_9 = [];
    aspek_4_10 = [];
    aspek_4_11 = [];		
    panjang_aspek_4_1 = [];
    panjang_aspek_4_2 = [];
    panjang_aspek_4_3 = [];
    panjang_aspek_4_4 = [];
    panjang_aspek_4_5 = [];
    panjang_aspek_4_6 = [];
    panjang_aspek_4_7 = [];
    panjang_aspek_4_8 = [];
    panjang_aspek_4_9 = [];
    panjang_aspek_4_10 = [];
    panjang_aspek_4_11 = [];
    panjang_aspek_4 = [];

    var aspek_5 = [
        {{ report.nilai_no_54 }} - 1,
    ];
    var panjang_aspek_5 = [];
    for (i=0; i<aspek_5.length; i++){
        if (aspek_5[i] == -1){
            not_applicable += aspek_5[i];
        } else {
            panjang_aspek_5.push(aspek_5[i]);
        }
    }
    var hasil_akhir_aspek_5 = round(((panjang_aspek_5.reduce((a,b) => a + b, 0))/(panjang_aspek_5.length*3))*100);
    var confidence_aspek_5 = round((panjang_aspek_5.length/aspek_5.length)*100);

    aspek_5 = [];
    panjang_aspek_5 = [];

    var ctx_radar = document.getElementById('myChart_radar');
    var myChart_radar = new Chart(ctx_radar, {
        type: 'radar',
        data: {
            labels: ['Kebijakan Manajemen Biorisiko', 'Perencanaan Kerja dengan Bahan Biologik', 'Pengendalian Operasional', 'Pelaksanaan dan Operasi', 'Checking dan Perbaikan'],
            datasets: [{
                label: 'Nilai Akhir',
                data: [hasil_akhir_aspek_1, hasil_akhir_aspek_2, hasil_akhir_aspek_3, hasil_akhir_aspek_4, hasil_akhir_aspek_5,],
                backgroundColor:  'rgba(203, 159, 196, 0.3)',
                borderColor:  'rgba(203, 159, 196, 0.3)',
                pointBorderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 3
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

    var ctx_bar = document.getElementById('myChart_bar');
    var myChart_bar = new Chart(ctx_bar, {
        type: 'bar',
        data: {
            labels: ['1', '2', '3', '4', '5'],
            datasets: [{
                label: 'Nilai Akhir',
                data: [hasil_akhir_aspek_1, hasil_akhir_aspek_2, hasil_akhir_aspek_3, hasil_akhir_aspek_4, hasil_akhir_aspek_5,],
                backgroundColor: [
                    'rgba(54, 162, 235, 0.4)',
                    'rgba(255, 206, 86, 0.4)',
                    'rgba(75, 192, 192, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(153, 102, 255, 0.4)',
                    'rgba(255, 159, 64, 0.4)'
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
</script>
<script>
    document.getElementById("hasil_akhir_aspek_1").innerHTML = hasil_akhir_aspek_1;
    document.getElementById("hasil_akhir_aspek_2").innerHTML = hasil_akhir_aspek_2;
    document.getElementById("hasil_akhir_aspek_3").innerHTML = hasil_akhir_aspek_3;
    document.getElementById("hasil_akhir_aspek_4").innerHTML = hasil_akhir_aspek_4;
    document.getElementById("hasil_akhir_aspek_5").innerHTML = hasil_akhir_aspek_5;
</script>
<script>
    var ctx_radar_detail = document.getElementById('myChart_radar_detail');
    var myChart_radar_detail = new Chart(ctx_radar_detail, {
        type: 'radar',
        data: {
            labels: ['Sistem Manajemen Biorisiko', 'Penilaian Risiko', 'Informasi dan Inventarisasi Bahan Biologik dan Bahan Toksin', 'General Safety', 'Personalia dan Kompetensi', 'Good Microbiological Technique', 'Alat Pelindung Diri', 'Latar Belakang SDM', 'Program Kesehatan Kerja', 'Tanggap Darurat dan Perencanaan Kontingensi', 'Persyaratan Fasilitas Fisik', 'Peralatan dan Pemeliharaan', 'Dekontaminasi, Disinfeksi, dan Sterilisasi', 'Transportasi Bahan Biologik dan Bahan Berbahaya lainnya', 'Biosecurity', 'Investigasi Kecelakaan dan Insiden'],
            datasets: [{
                label: 'Nilai Akhir',
                data: [hasil_akhir_aspek_1, hasil_akhir_aspek_2_1, hasil_akhir_aspek_2_2, hasil_akhir_aspek_3, hasil_akhir_aspek_4_1, hasil_akhir_aspek_4_2, hasil_akhir_aspek_4_3, hasil_akhir_aspek_4_4, hasil_akhir_aspek_4_5, hasil_akhir_aspek_4_6, hasil_akhir_aspek_4_7, hasil_akhir_aspek_4_8, hasil_akhir_aspek_4_9, hasil_akhir_aspek_4_10, hasil_akhir_aspek_4_11, hasil_akhir_aspek_5,],
                backgroundColor:  'rgba(203, 159, 196, 0.3)',
                borderColor:  'rgba(203, 159, 196, 0.3)',
                pointBorderColor: [
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 3
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

    var ctx_bar_detail = document.getElementById('myChart_bar_detail');
    var myChart_bar_detail = new Chart(ctx_bar_detail, {
        type: 'bar',
        data: {
            labels: ['1.1', '2.1', '2.2', '3.1', '4.1', '4.2', '4.3', '4.4', '4.5', '4.6', '4.7', '4.8', '4.9', '4.10', '4.11', '5.1'],
            datasets: [{
                label: 'Nilai Akhir',
                data: [hasil_akhir_aspek_1, hasil_akhir_aspek_2_1, hasil_akhir_aspek_2_2, hasil_akhir_aspek_3, hasil_akhir_aspek_4_1, hasil_akhir_aspek_4_2, hasil_akhir_aspek_4_3, hasil_akhir_aspek_4_4, hasil_akhir_aspek_4_5, hasil_akhir_aspek_4_6, hasil_akhir_aspek_4_7, hasil_akhir_aspek_4_8, hasil_akhir_aspek_4_9, hasil_akhir_aspek_4_10, hasil_akhir_aspek_4_11, hasil_akhir_aspek_5,],
                backgroundColor: [
                    'rgba(54, 162, 235, 0.4)',
                    'rgba(255, 206, 86, 0.4)',
                    'rgba(255, 206, 86, 0.4)',
                    'rgba(75, 192, 192, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(153, 102, 255, 0.4)'
                ],
                borderColor: [
                    'rgba(54, 162, 235, 0.4)',
                    'rgba(255, 206, 86, 0.4)',
                    'rgba(255, 206, 86, 0.4)',
                    'rgba(75, 192, 192, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(255, 99, 132, 0.4)',
                    'rgba(153, 102, 255, 0.4)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
</script>
<script>
    document.getElementById("hasil_akhir_aspek_1_detail").innerHTML = hasil_akhir_aspek_1;
    document.getElementById("hasil_akhir_aspek_2_1").innerHTML = hasil_akhir_aspek_2_1;
    document.getElementById("hasil_akhir_aspek_2_2").innerHTML = hasil_akhir_aspek_2_2;
    document.getElementById("hasil_akhir_aspek_3_detail").innerHTML = hasil_akhir_aspek_3;
    document.getElementById("hasil_akhir_aspek_4_1").innerHTML = hasil_akhir_aspek_4_1;
    document.getElementById("hasil_akhir_aspek_4_2").innerHTML = hasil_akhir_aspek_4_2;
    document.getElementById("hasil_akhir_aspek_4_3").innerHTML = hasil_akhir_aspek_4_3;
    document.getElementById("hasil_akhir_aspek_4_4").innerHTML = hasil_akhir_aspek_4_4;
    document.getElementById("hasil_akhir_aspek_4_5").innerHTML = hasil_akhir_aspek_4_5;
    document.getElementById("hasil_akhir_aspek_4_6").innerHTML = hasil_akhir_aspek_4_6;
    document.getElementById("hasil_akhir_aspek_4_7").innerHTML = hasil_akhir_aspek_4_7;
    document.getElementById("hasil_akhir_aspek_4_8").innerHTML = hasil_akhir_aspek_4_8;
    document.getElementById("hasil_akhir_aspek_4_9").innerHTML = hasil_akhir_aspek_4_9;
    document.getElementById("hasil_akhir_aspek_4_10").innerHTML = hasil_akhir_aspek_4_10;
    document.getElementById("hasil_akhir_aspek_4_11").innerHTML = hasil_akhir_aspek_4_11;
    document.getElementById("hasil_akhir_aspek_5_detail").innerHTML = hasil_akhir_aspek_5;
    document.getElementById("confidence_aspek_1").innerHTML = confidence_aspek_1;
    document.getElementById("confidence_aspek_2_1").innerHTML = confidence_aspek_2_1;
    document.getElementById("confidence_aspek_2_2").innerHTML = confidence_aspek_2_2;
    document.getElementById("confidence_aspek_3").innerHTML = confidence_aspek_3;
    document.getElementById("confidence_aspek_4_1").innerHTML = confidence_aspek_4_1;
    document.getElementById("confidence_aspek_4_2").innerHTML = confidence_aspek_4_2;
    document.getElementById("confidence_aspek_4_3").innerHTML = confidence_aspek_4_3;
    document.getElementById("confidence_aspek_4_4").innerHTML = confidence_aspek_4_4;
    document.getElementById("confidence_aspek_4_5").innerHTML = confidence_aspek_4_5;
    document.getElementById("confidence_aspek_4_6").innerHTML = confidence_aspek_4_6;
    document.getElementById("confidence_aspek_4_7").innerHTML = confidence_aspek_4_7;
    document.getElementById("confidence_aspek_4_8").innerHTML = confidence_aspek_4_8;
    document.getElementById("confidence_aspek_4_9").innerHTML = confidence_aspek_4_9;
    document.getElementById("confidence_aspek_4_10").innerHTML = confidence_aspek_4_10;
    document.getElementById("confidence_aspek_4_11").innerHTML = confidence_aspek_4_11;
    document.getElementById("confidence_aspek_5").innerHTML = confidence_aspek_5;
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript"> 
    $(document).ready(function () {
        var cell = $('td.color-grade');
        
        cell.each(function () {
            var cell_value = parseFloat($(this).html());
            
            if ((cell_value <= 20)) {
                $(this).css({
                    'background-color': '#990000 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if ((cell_value >= 20) && (cell_value <= 40)) {
                $(this).css({
                    'background-color': '#ff0000 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if ((cell_value >= 40) && (cell_value <= 60)) {
                $(this).css({
                    'background-color': '#ffcc66 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if ((cell_value >= 60) && (cell_value <= 80)) {
                $(this).css({
                    'background-color': '#66ff66 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if (cell_value >= 80) {
                $(this).css({
                    'background-color': '#00cc00 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else {
                $(this).css({
                    'background-color': 'gray !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            }
        });

        var cell_confidence = $('td.color-grade-confidence');
        
        cell_confidence.each(function () {
            var cell_confidence_value = parseFloat($(this).html());
            
            if ((cell_confidence_value <= 69)) {
                $(this).css({
                    'background-color': '#ff0000 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if ((cell_confidence_value >= 69) && (cell_confidence_value <= 89)) {
                $(this).css({
                    'background-color': '#ffcc66 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            } else if ((cell_confidence_value >= 89)) {
                $(this).css({
                    'background-color': '#00cc00 !important',
                    'color': 'black',
                    'font-weight': '600'
                });
            }
        });
    });
</script>

</body>
</html>